<div class="modal fade register-modal" id="register-modal" tabindex="-1" role="dialog"
     aria-labelledby="myLargeModalLabel"
     aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content container register-modal" style="background-color: #e6e3e1">
            <h1 class="modal-title w-100 text-center white-text font-weight-bold" id="myModalLabel">
                Register</h1>

            <form class="needs-validation" th:action="@{/register}" method="post"
                  th:object="${userRegisterBindingModel}">
                <hr class="hr"/>
                <div class="form-row">
                    <div class="col-md-4 mb-3">
                        <label for="usernameInput">Username</label>
                        <input type="text" th:field="*{username}"
                               th:styleappend="${#fields.hasErrors('username')} ? border-color: red"
                               class="form-control" id="usernameInput"
                               placeholder="Username" required>
                        <small style="color: red" th:each="error : ${#fields.errors('username')}"
                               th:text="${error}"></small>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="fullNameInput">Full name</label>
                        <input type="text" th:field="*{fullName}" class="form-control" id="fullNameInput"
                               placeholder="Full name" required>
                        <small style="color: red" th:each="error : ${#fields.errors('fullName')}"
                               th:text="${error}"></small>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="validationCustomEmail">Email</label>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text" id="inputGroupPrepend">@</span>
                            </div>
                            <input type="email" th:field="*{email}" class="form-control" id="validationCustomEmail"
                                   placeholder="Email" required>
                            <small style="color: red" th:each="error : ${#fields.errors('email')}"
                                   th:text="${error}"></small>
                        </div>
                    </div>
                </div>
                <div class="form-row">
                    <div class="col-md-4 mb-3">
                        <label for="inputPassword">Password</label>
                        <input type="password" th:field="*{password}" placeholder="Password" id="inputPassword"
                               class="form-control" aria-describedby="passwordHelpInline" required>
                        <small style="color: red" th:each="error : ${#fields.errors('password')}"
                               th:text="${error}"></small>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="inputConfirmPassword">Confirm Password</label>
                        <input type="password" th:field="*{confirmPassword}" placeholder="Confirm Password"
                               id="inputConfirmPassword"
                               class="form-control" aria-describedby="confirmPasswordHelpInline" required>
                        <small style="color: red" th:each="error : ${#fields.errors('confirmPassword')}"
                               th:text="${error}"></small>
                    </div>
                    <div class="col-md-4 mb-3">
                        <label for="inputConfirmPhoneNumber">Phone number</label>
                        <input type="number" th:field="*{phoneNumber}" placeholder="Phone number"
                               id="inputConfirmPhoneNumber"
                               class="form-control" aria-describedby="confirmPasswordHelpInline" required>
                        <small style="color: red" th:each="error : ${#fields.errors('phoneNumber')}"
                               th:text="${error}"></small>
                    </div>

                </div>
                <div class="form-row">
                    <div class="col-md-4 mb-3">
                        <label for="inputCity">City</label>
                        <select th:field="*{city}" class="form-control" id="inputCity" placeholder="City"
                                required>
                            <th:block th:each="city : ${cityModels}">
                                <option th:value="${city}" th:text="${city}"></option>
                            </th:block>
                            <div class="invalid-feedback">
                                Please provide a valid city.
                            </div>
                        </select>
                    </div>
                    <div class="col-md-2 mb-3">
                        <label for="inputGender">Gender</label>
                        <select class="custom-select " id="inputGender" th:field="*{gender}">
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                        </select>
                    </div>
                    <div class="col-md-2 ">
                        <label for="inputAge">Age</label>
                        <input type="number" min="18" max="100" th:field="*{age}" placeholder="Age"
                               id="inputAge"
                               class="form-control" required>
                        <small style="color: red" th:each="error : ${#fields.errors('age')}"
                               th:text="${error}"></small>
                    </div>
                    <div class="col-md-4 mb-3 align-text-bottom button-margin">
                        <ul class="nav nav-pills" id="pills-tab" role="tablist">
                            <li class="nav-item btn-primary divider-vertical">
                                <a class="nav-link btn " id="pills-guest-tab" data-toggle="pill"
                                   href="#pills-guest-landlord-form"
                                   role="tab" aria-controls="pills-guest-landlord-form" aria-selected="true">Guest</a>
                            </li>
                            <li class="nav-item btn-primary divider-vertical">
                                <a class="nav-link btn active" id="pills-landlord-tab" data-toggle="pill" href="#pills-guest-landlord-form"
                                   role="tab" aria-controls="pills-guest-landlord-form" aria-selected="false">Landlord</a>
                            </li>
                        </ul>

                    </div>
                </div>

                <div class="tab-pane fade show active" id="pills-guest-landlord-form" role="tabpanel"
                     aria-labelledby="pills-home-tab">
                    <div id="guest-landlord-container" class="form-row landlord-form container">
                        <div class="col-md-9 mb-3">
                            <label for="inputConditions">Conditions</label>
                            <textarea type="text" th:field="*{conditions}" class="form-control" id="inputConditions"
                                      placeholder="Conditions"
                                      required></textarea>
                            <small style="color: red" th:each="error : ${#fields.errors('conditions')}"
                            th:text="${error}"></small>
                        </div>
                        <div class="col-md-3 mb-3">
                            <label for="inputRoommateGender">Roommate Gender</label>
                            <select class="custom-select" th:field="*{roommateGender}" id="inputRoommateGender">
                                <option value="">Male & Female</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                            </select>
                        </div>
                    </div>
                </div>

                <hr class="hr"/>
                <div class="center-button">
                    <button class="btn btn-primary col-3 reg-button" type="submit">Register</button>
                </div>
                <div class="col-md-12">
                    <small class="d-flex justify-content-end">Have an account?
                        <a href="#" class="green-text ml-1 font-weight-bold"
                           data-target="#login-modal" data-toggle="modal" data-dismiss="modal">Login</a>

                        <!--<button type="button" class="btn btn-primary" data-dismiss="modal" data-toggle="modal" data-target=".register-modal">Next</button>-->

                    </small>
                </div>

            </form>


            <script>
                // Example starter JavaScript for disabling form submissions if there are invalid fields
                (function () {
                    'use strict';
                    window.addEventListener('load', function () {
                        // Fetch all the forms we want to apply custom Bootstrap validation styles to
                        var forms = document.getElementsByClassName('needs-validation');
                        // Loop over them and prevent submission
                        var validation = Array.prototype.filter.call(forms, function (form) {
                            form.addEventListener('submit', function (event) {
                                if (form.checkValidity() === false) {
                                    event.preventDefault();
                                    event.stopPropagation();
                                }
                                form.classList.add('was-validated');
                            }, false);
                        });
                    }, false);
                })();

                $(document).ready(function () {
                    $('.nav-pills a').click(function () {

                        var father = $('#guest-landlord-container')

                        if (this.text === 'Guest') {
                            father.empty()
                            father.append("<div class=\"col-md-12 mb-3\"><label for=\"inputPreferences\">Preferences</label><textarea name=\"preferences\" placeholder=\"Preferences\" id=\"inputPreferences\" class=\"form-control\" required></textarea><small style=\"color: red\" th:each=\"error : ${#fields.errors('preferences')}\" th:text=\"${error}\"></small></div>")
                        } else {
                            father.empty()
                            father.append("<div class=\"col-md-9 mb-3\">\n" +
                                "                            <label for=\"inputConditions\">Conditions</label>\n" +
                                "                            <textarea type=\"text\" name=\"conditions\" class=\"form-control\" id=\"inputConditions\"\n" +
                                "                                      placeholder=\"Conditions\"\n" +
                                "                                      required></textarea>\n" +
                                "                            <small style=\"color: red\" th:each=\"error : ${#fields.errors('conditions')}\"\n" +
                                "                            th:text=\"${error}\"></small>\n" +
                                "                        </div>"
                                )


                            father.append("<div class=\"col-md-3 mb-3\">\n" +
                                "                            <label for=\"inputRoommateGender\">Roommate Gender</label>\n" +
                                "                            <select class=\"custom-select \" name=\"roommateGender\" id=\"inputRoommateGender\">\n" +
                                "                                <option selected>Male & Female</option>\n" +
                                "                                <option value=\"Male\">Male</option>\n" +
                                "                                <option value=\"Female\">Female</option>\n" +
                                "                            </select>\n" +
                                "                        </div>")
                        }
                    });
                });

            </script>
        </div>
    </div>
</div>